function submit_gf_through_pc(t,e,i){return console.debug({url:t,values_json:e,$form:i}),$.post(t,e,function(t){if(console.log(t),"redirect"===t.response.confirmation_type)document.location.href=t.response.confirmation_redirect;else if(t.response.validation_messages){if("At least one field must be filled out"===t.response.validation_messages[1]){const t='<h5 class="validation_message">At least one field must be filled out</h5>';i.append(t)}}else $(".validation_message").remove(),i.hide(),i.parent().append(t.response.confirmation_message)}),null}function aload(t){"use strict";var e="data-aload";return void 0===(t=t||window.document.querySelectorAll("["+e+"]")).length&&(t=[t]),[].forEach.call(t,function(t){t["LINK"!==t.tagName?"src":"href"]=t.getAttribute(e),t.removeAttribute(e)}),t}window.onload=function(){aload()},function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"undefined"!=typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){"use strict";global_vars.postid,global_vars.nonce,global_vars.ajaxurl,t("#pc_wrap").attr("data-total");t.fn.conditionalizeForm=function(){var e=t(this);e.find("[data-conditional-type]").each(function(){var i=t(this),a=(i.attr("data-conditional-type"),i.closest("[data-id]").attr("data-id")),o=e.find('[data-id="'+a+'"]'),n=i.attr("data-conditional-id"),s=i.attr("data-conditional-operator"),r=i.attr("data-conditional-value"),l=e.find('[data-id="'+n+'"]').find("input, textarea, select").val();switch(s){case"is":default:s=!0}l==r===s?o.show().removeClass("js-hidden"):(o.hide().addClass("js-hidden"),i.val(""))})};var e={init:function(){var e=t("[data-flybook-embeddable-button]").not('[data-flybook-inited="1"]');e.length>0&&e.each(function(){var e=t(this),i=e.attr("data-flybook-embeddable-button"),a=e.attr("data-flybook-account");new FbBookNowButton({entityId:i,entityType:"tickets",accountId:a,targetId:"FlybookButton"+i+"-"+a+"-tickets",domain:"go.theflybook.com",protocol:"https"}),e.attr("data-flybook-inited",1)});var a=t(".video-popup").not('[data-handled="1"]');if(a.length>0&&(t(".video-popup").on("click",".video-popup--cover",function(){t(this).closest(".video-popup").find(".video-popup--frame").clone().prepend('<a href="javascript:" class="close-popup"></a>').appendTo("body").fadeIn().on("click",function(e){e.currentTarget.closest(".pc--crop__video")||t("body").children(".video-popup--frame").fadeOut(300,function(){t(this).detach()})}).closest(".pc--r").css("z-index",50)}),a.attr("data-handled",1)),t(".pc--c").find("form").not("[data-inited]")&&(t(".pc--c").find("form").conditionalizeForm(),t(".pc--c").find("form").attr("data-inited",1)),t(".pc--date").not("[data-inited]")&&t(".pc--date").each(function(){console.log(t(this)[0].dataset.dateFormat),t(this).daterangepicker({locale:{format:t(this)[0].dataset.dateFormat},singleDatePicker:!0}),t(this).attr("data-inited",1)}),t(document).bind("gform_confirmation_loaded",function(t,e){console.log(e)}),t(".slider-pro--preview").not("[data-inited]").on("click",function(){t(this).tourismTiger("initGallery")}),t(".slider-pro__close-link, .slider-pro__close-bg").not("[data-inited]").on("click",function(){t(this).tourismTiger("destroyGallery")}),t(".slider-pro--preview, .slider-pro__close-link, .slider-pro__close-bg").attr("data-inited",1),t(".js-new-slider").not('[data-inited="1"]').length>0){var o=t(".pc--r__scroll").filter(".js-new-slider");o.on("init",function(t){var e=o.filter(".pc-custom-arrow");if(e.length>0){var i=e.find(".slick-arrow"),a=e.attr("data-color");i.find("img").detach().end().css("color",a)}o.removeClass("js-new-slider")}),t(".pc--r__scroll").not(".slick-slider").slick({prevArrow:'<div class="pc__c--arrow-p"><img width="20" src="'+global_vars.themeurl+'/includes/primary-content/assets/img/slider/arrow-left.png" /></div>',nextArrow:'<div class="pc__c--arrow-n"><img width="20" src="'+global_vars.themeurl+'/includes/primary-content/assets/img/slider/arrow-right.png" /></div>',adaptiveHeight:!0}),t(".pc--c__testimonial--slider.js-new-slider").not(".slick-slider").slick({swipe:!1,arrows:!1,dots:!0,adaptiveHeight:!0,fade:!0,slidesToScroll:1,autoplay:!0,autoplaySpeed:5e3}),t("#slider .slides").not(".slick-slider").slick({swipe:!1,arrows:!1,adaptiveHeight:!0,fade:!0,slidesToScroll:1,autoplay:!0,autoplaySpeed:5e3}),setTimeout(function(){t(".pc--r__scroll").slick("setOption","height",null,!0),t(".pc--r__scroll.js-new-slider").fadeIn()},500),t(".slick-slider").removeClass("js-new-slider").attr("data-inited",1)}if(global_vars.googlemaps&&t(".js-new-map").length>0&&t(".acf-map.js-new-map").each(function(){i(t(this));t(this).removeClass("js-new-map")}),t(".pc_circle-image--wrapper.js-new-circle").length>0){var n=0;t(".pc_circle-image--wrapper.js-new-circle").each(function(){var e=t(this),i=e.find("img"),a=i.attr("width"),o=i.attr("height"),s=e.find("a").attr("href"),r=e.width(),l=e.height();n++;var c="https://www.gyu-kaku.com/times-square/"===s||"http://www.outlatinfood.net/"===s||"https://www.wotif.com/"===s;c&&(console.debug(n+")",s),console.debug("item_w:",r,"item_h:",l,"img_h:",o,"img_w:",a)),0==e.width()||0==e.height()?(e.css("width","100%"),e.css("height",e.width())):(0==e.find("img").width()||0==e.find("img").height()?r<l?e.height(r):e.width(l):a>o?o>r?(i.height(r).width(r),i.removeAttr("width").removeAttr("height"),c&&console.debug("1. img_w > img_h && img_h > item_w")):o<=r&&(i.removeAttr("width").removeAttr("height"),i.css({height:r,width:r}),c&&console.debug("2. img_w > img_h && img_h <= item_w")):a<=o&&(a>r?(e.find("img").width(r),e.height(r),c&&console.debug("3. img_w <= img_h && img_w > item_w")):a<=r&&(e.height(a),e.width(a),c&&console.debug("4. img_w <= img_h && img_w <= item_w"))),e.removeClass("js-new-circle"))})}if(t(".pc--r").find(".pc--crop__thumb").length>0&&t(".pc--r").find(".pc--crop__thumb").each(function(e,i){var a=t(this),o=a.width(),n="",s=a.closest(".pc--r");n=s.hasClass("pc--r__col-2")||s.hasClass("pc--r__col-1")||s.hasClass("pc--r__col-3")?a.hasClass("pc--c__b-image--tall")?.7*o:a.hasClass("pc--c__b-image--normal")?.5*o:a.hasClass("pc--c__b-image--square")?o:a.hasClass("pc--c__b-image--really-tall")?.8*o:a.hasClass("pc--c__b-image--especially-tall")?1.5*o:.5*o:a.hasClass("pc--c__b-image--tall")?1.35*o:a.hasClass("pc--c__b-image--normal")?o/1.35:a.hasClass("pc--c__b-image--square")?o:a.hasClass("pc--c__b-image--really-tall")?2*o:a.hasClass("pc--c__b-image--especially-tall")?2.35*o:1.25*o,a.animate({"min-height":n},50);var r=a.find("img");r.width()>a.width()&&r.height()>a.height()&&(r.width()>r.height()?r.css({width:"auto",height:a.height()}):r.css({height:"auto",width:a.width()}))}),t(".pc--crop__video").length>0&&t(".pc--crop__video").each(function(e,i){var a=t(this),o=a.closest(".pc--c__video");o.hasClass("pc--c__video--full")&&a.width(o.width());var n=a.width()/1.75;a.animate({height:n},500)}),t(".pc--form").length>0){var s=t(".pc--form"),r=t(".pc--form__horizontal");r.find(".textarea").closest(".gfield").animate({width:"100%"},500),r.find(".gfield_checkbox, .gfield_radio").closest(".gfield").animate({"flex-grow":"0"},500),s.find(".ginput_container_time").closest(".clear-multi").addClass("clear-multi_tel"),s.find(".ginput_container_time").find("i").detach(),t(".pc--form__head-hide").find(".gform_heading").detach(),t(".pc--form__nowrap").find(".gfield_label, .gfield_description").detach(),t(".pc--form__hide-labels").find(".gfield_label").detach(),t(".pc--form__hide-desc").find(".gfield_description").detach(),t(".pc--form__hide-labels-desc").find(".gfield_label, .gfield_description").detach(),t(".pc--form__head-title").find(".gform_description").detach()}(t(".js-divider").length>0&&t(".pc--s__divider_repeater").find(".js-divider").each(function(){var e=t(this),i=e.attr("data-bg"),a=new Image;a.onload=function(){e.height(a.height)},a.src=i,e.css("background-image","url("+i+")")}),t(".pc--s__img--eqvival").each(function(){var e=t(this),i=e.attr("data-expanded"),a=new Image;a.onload=function(){var t=a.height/a.width*100,o=screen.width/100*t;e.css("background-image","url("+i+")"),e.animate({"min-height":o},100)},a.src=i}),t(window).width()>768)&&t(".pc--r__col-2__ratio-right, .pc--r__col-2__ratio-left").filter(".pc--r_pos-stretch").each(function(){var e=t(this),i=e.height();e.find(".pc--c__b-image").css("height",i).end().find(".pc--c__b-image img").css("height",i)});var l=t(".pc--form").find("input, textarea, select, button").not("[data-handled]");l.length>0&&l.each(function(){var e=t(this),i=e.attr("data-field-mask"),a=e.hasClass("gfield_select");if(i&&e.mask(i),a){var o=e.css("background-color");e.selectpicker().closest(".bootstrap-select").removeClass("gfield_select").find(".dropdown-toggle").css("background-color",o)}e.on("keydown",function(e){var i=t(this),a=i.attr("data-field-length");a&&i.val().length>=a&&(e.preventDefault(),e.stopPropagation())}),e.removeAttr("disabled").attr("data-handled",1)})},onFinish:function(){t(".g-recaptcha").length>0&&t.getScript("//www.google.com/recaptcha/api.js?onload=onloadCallback"),t(".pc--c").on("change","input, select, textarea",function(){t(this).closest("form").conditionalizeForm()}),t(".pc--form form").submit(function(e){e.preventDefault();var i=t(this),a=(i.find("input, textarea, select"),i.find("[data-field-input], textarea, select")),o=i.find(".gchoices_list"),n=(i.find(".gform_footer").find("input, textarea, select"),i.find(".g-recaptcha")),s=(i.find(".gform_notify_group"),i.find("[data-user-email]"),!0),r={},l={},c=i.attr("id").split("_")[1];(a.length>0&&a.each(function(){var e=t(this),i=e.attr("name"),a=e.val(),o=(e.attr("data-field-label"),e.attr("data-field-required")),n=(e.attr("data-field-mask"),e.closest(".gfield"));null!=a&&"1"==o&&(0!=a.length||n.hasClass("js-hidden")?e.attr("style","").parent().find("div").detach():(e.css("color","#f44336").after('<div style="color:#f44336">This field is required.</div>'),s=!1,console.warn("False field: "+i))),l[i]=a,t(".pc--r__scroll").slick("setOption","height",null,!0)}),o.length>0&&o.map(function(){var e,i=t(this),a=1==i.attr("data-field-required"),o=1==i.attr("data-form-other-choice"),n=(e=i.find("input:checked")).length>0;o&&n&&(1==e.attr("data-form-more")&&((e=i.find("[data-form-more-field]")).val().length<1&&a?(e.css("color","#f44336").after('<div style="color:#f44336">This field is required.</div>'),s=!1):e.attr("style","").parent().find("div").detach(),t(".pc--r__scroll").slick("setOption","height",null,!0)));var r=e.attr("data-field-label");if(a&&(n?i.children("div").detach():(i.append('<div style="color:#f44336">This field is required.</div>'),s=!1,console.warn("False checkbox: "+r)),t(".pc--r__scroll").slick("setOption","height",null,!0)),"object"!=typeof e)l[e.attr("name")]=e.val();else for(var c=e.length,d=0;d<c;d++)l[e.eq(d).attr("name")]=e.eq(d).val()}),console.log(l),n.length>0)&&(grecaptcha.getResponse().length||(s=!1,console.warn("False captcha")));r.input_values=l;var d=JSON.stringify(r);if(!s)return e.preventDefault(),console.warn("Form ain't valid"),!1;if(global_vars.is_admin&&!global_vars.gf_public&&!global_vars.gf_private)return i.hide(),i.parent().append('<h3 style="color: red;">Public or private key isn\'t exist.</h3>'),!1;var h=new Date,p=parseInt(h.getTime()/1e3)+3600,f=global_vars.gf_public,g="/gravityformsapi/forms/"+c+"/submissions",m=function(t,e){var i=CryptoJS.HmacSHA1(t,e).toString(CryptoJS.enc.Base64);return encodeURIComponent(i)}(f+":POST:"+g+":"+p,global_vars.gf_private);return submit_gf_through_pc(global_vars.siteurl+g+"?api_key="+f+"&signature="+m+"&expires="+p,d,i),!1}),t(".pc-section--btn-more").on("click",".js-more",function(){var e=t(this),i=e.parent().find(".js-more"),a=e.parent().find(".js-less"),o=e.closest(".pc-section--btn-more"),n=e.closest(".pc--s"),s=e.attr("data-load-offset"),r=e.attr("data-total-rows"),l=e.attr("data-load-init"),c=r-l,d=n.attr("id").split("pc--s_id-")[1],h=e.closest(".pc--s").find(".pc--r"),p=i.attr("data-original");if(c>0)t.post(global_vars.ajaxurl,{action:"show_more_rows",post_id:global_vars.postid,offset:s,total_rows:r,init_rows:l,lack_rows:c,nonce:global_vars.nonce,section_id:d},function(n){o.before(n.content),e.attr("data-load-init",n.rows),console.log(n.message),n.more||(i.hide(),a.show()),t(document).primaryContent("init")},"json");else{var f=1;"all"===s&&(s=999),h.each(function(e){var o=t(this),n="none"==o.css("display");n&&e>=p&&s>=f&&(o.show(),n=!1,f++,e+1!=r||n||(i.hide(),a.show()))})}}),t(".pc-section--btn-more").on("click",".js-less",function(){var e=t(this),i=e.parent().find(".js-more"),a=e.parent().find(".js-less"),o=(e.closest(".pc-section--btn-more"),e.closest(".pc--s").find(".pc--r")),n=i.attr("data-original");o.each(function(e){e>=n&&t(this).hide()}),i.show(),a.hide()})}};function i(e){var i=e.find(".marker"),a={zoom:16,center:new google.maps.LatLng(0,0),mapTypeId:google.maps.MapTypeId.ROADMAP},o=new google.maps.Map(e[0],a);return o.markers=[],i.each(function(){!function(t,e){var i=new google.maps.LatLng(t.attr("data-lat"),t.attr("data-lng")),a=new google.maps.Marker({position:i,map:e});if(e.markers.push(a),t.html()){var o=new google.maps.InfoWindow({content:t.html()});google.maps.event.addListener(a,"click",function(){o.open(e,a)})}}(t(this),o)}),function(e){var i=new google.maps.LatLngBounds;t.each(e.markers,function(t,e){var a=new google.maps.LatLng(e.position.lat(),e.position.lng());i.extend(a)}),1==e.markers.length?(e.setCenter(i.getCenter()),e.setZoom(16)):e.fitBounds(i)}(o),o}t.fn.primaryContent=function(i){return e[i]?e[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof i&&i?void t.error("Method named "+i+" isn't exist within jQuery.primaryContent"):e.init.apply(this,arguments)},t(document).primaryContent("init"),t(document).primaryContent("onFinish"),t(".go_to").click(function(){var e=t(this).attr("href");return 0!=t(e).length&&t("html, body").animate({scrollTop:t(e).offset().top},500),!1});t(function(){t(".acf-map.js-new-map").each(function(){i(t(this));t(this).removeclass("js-new-map")})})});
