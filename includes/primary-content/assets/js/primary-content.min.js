function submit_gf_through_pc(e,t,i){return $.post(e,t,function(e){if(console.log(e),"redirect"===e.response.confirmation_type)document.location.href=e.response.confirmation_redirect;else if(e.response.validation_messages){if("At least one field must be filled out"===e.response.validation_messages[1]){const e='<h5 class="validation_message">At least one field must be filled out</h5>';i.append(e)}}else $(".validation_message").remove(),i.hide(),i.parent().append(e.response.confirmation_message)}),null}function aload(e){"use strict";var t="data-aload";return void 0===(e=e||window.document.querySelectorAll("["+t+"]")).length&&(e=[e]),[].forEach.call(e,function(e){e["LINK"!==e.tagName?"src":"href"]=e.getAttribute(t),e.removeAttribute(t)}),e}window.onload=function(){aload()},function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){"use strict";global_vars.postid,global_vars.nonce,global_vars.ajaxurl,e("#pc_wrap").attr("data-total");e.fn.conditionalizeForm=function(){var t=e(this);t.find("[data-conditional-type]").each(function(){var i=e(this),a=(i.attr("data-conditional-type"),i.closest("[data-id]").attr("data-id")),o=t.find('[data-id="'+a+'"]'),n=i.attr("data-conditional-id"),r=i.attr("data-conditional-operator"),s=i.attr("data-conditional-value"),l=t.find('[data-id="'+n+'"]').find("input, textarea, select").val();switch(r){case"is":default:r=!0}l==s===r?o.show().removeClass("js-hidden"):(o.hide().addClass("js-hidden"),i.val(""))})};var t={init:function(){var t=e("[data-flybook-embeddable-button]").not('[data-flybook-inited="1"]');t.length>0&&t.each(function(){var t=e(this),i=t.attr("data-flybook-embeddable-button"),a=t.attr("data-flybook-account");new FbBookNowButton({entityId:i,entityType:"tickets",accountId:a,targetId:"FlybookButton"+i+"-"+a+"-tickets",domain:"go.theflybook.com",protocol:"https"}),t.attr("data-flybook-inited",1)});var a=e(".video-popup").not('[data-handled="1"]');if(a.length>0&&(e(".video-popup").on("click",".video-popup--cover",function(){e(this).closest(".video-popup").find(".video-popup--frame").clone().prepend('<a href="javascript:" class="close-popup"></a>').appendTo("body").fadeIn().on("click",function(t){t.currentTarget.closest(".pc--crop__video")||e("body").children(".video-popup--frame").fadeOut(300,function(){e(this).detach()})}).closest(".pc--r").css("z-index",50)}),a.attr("data-handled",1)),e(".pc--c").find("form").not("[data-inited]")&&(e(".pc--c").find("form").conditionalizeForm(),e(".pc--c").find("form").attr("data-inited",1)),e(".pc--date").not("[data-inited]")&&e(".pc--date").each(function(){let t=e(this)[0].dataset.dateFormat;console.debug(t.toLowerCase().replace("yyyy","yy")),t=t.toLowerCase().replace("yyyy","yy"),e(this).datepicker({dateFormat:t})}),e(document).bind("gform_confirmation_loaded",function(e,t){console.log(t)}),e(".slider-pro--preview").not("[data-inited]").on("click",function(){e(this).tourismTiger("initGallery")}),e(".slider-pro__close-link, .slider-pro__close-bg").not("[data-inited]").on("click",function(){e(this).tourismTiger("destroyGallery")}),e(".slider-pro--preview, .slider-pro__close-link, .slider-pro__close-bg").attr("data-inited",1),e(".js-new-slider").not('[data-inited="1"]').length>0){var o=e(".pc--r__scroll").filter(".js-new-slider");o.on("init",function(e){var t=o.filter(".pc-custom-arrow");if(t.length>0){var i=t.find(".slick-arrow"),a=t.attr("data-color");i.find("img").detach().end().css("color",a)}o.removeClass("js-new-slider")}),e(".pc--r__scroll").not(".slick-slider").slick({prevArrow:'<div class="pc__c--arrow-p"><img width="20" src="'+global_vars.themeurl+'/includes/primary-content/assets/img/slider/arrow-left.png" /></div>',nextArrow:'<div class="pc__c--arrow-n"><img width="20" src="'+global_vars.themeurl+'/includes/primary-content/assets/img/slider/arrow-right.png" /></div>',adaptiveHeight:!0}),e(".pc--c__testimonial--slider.js-new-slider").not(".slick-slider").slick({swipe:!1,arrows:!1,dots:!0,adaptiveHeight:!0,fade:!0,slidesToScroll:1,autoplay:!0,autoplaySpeed:5e3}),e("#slider .slides").not(".slick-slider").slick({swipe:!1,arrows:!1,adaptiveHeight:!0,fade:!0,slidesToScroll:1,autoplay:!0,autoplaySpeed:5e3}),setTimeout(function(){e(".pc--r__scroll").slick("setOption","height",null,!0),e(".pc--r__scroll.js-new-slider").fadeIn()},500),e(".slick-slider").removeClass("js-new-slider").attr("data-inited",1)}if(global_vars.googlemaps&&e(".js-new-map").length>0&&e(".acf-map.js-new-map").each(function(){i(e(this));e(this).removeClass("js-new-map")}),e(".pc_circle-image--wrapper.js-new-circle").length>0){var n=0;e(".pc_circle-image--wrapper.js-new-circle").each(function(){var t=e(this),i=t.find("img"),a=i.attr("width"),o=i.attr("height"),r=t.find("a").attr("href"),s=t.width(),l=t.height();n++;var c="https://www.gyu-kaku.com/times-square/"===r||"http://www.outlatinfood.net/"===r||"https://www.wotif.com/"===r;c&&(console.debug(n+")",r),console.debug("item_w:",s,"item_h:",l,"img_h:",o,"img_w:",a)),0==t.width()||0==t.height()?(t.css("width","100%"),t.css("height",t.width())):(0==t.find("img").width()||0==t.find("img").height()?s<l?t.height(s):t.width(l):a>o?o>s?(i.height(s).width(s),i.removeAttr("width").removeAttr("height"),c&&console.debug("1. img_w > img_h && img_h > item_w")):o<=s&&(i.removeAttr("width").removeAttr("height"),i.css({height:s,width:s}),c&&console.debug("2. img_w > img_h && img_h <= item_w")):a<=o&&(a>s?(t.find("img").width(s),t.height(s),c&&console.debug("3. img_w <= img_h && img_w > item_w")):a<=s&&(t.height(a),t.width(a),c&&console.debug("4. img_w <= img_h && img_w <= item_w"))),t.removeClass("js-new-circle"))})}if(e(".pc--r").find(".pc--crop__thumb").length>0&&e(".pc--r").find(".pc--crop__thumb").each(function(t,i){var a=e(this),o=a.width(),n="",r=a.closest(".pc--r");n=r.hasClass("pc--r__col-2")||r.hasClass("pc--r__col-1")||r.hasClass("pc--r__col-3")?a.hasClass("pc--c__b-image--tall")?.7*o:a.hasClass("pc--c__b-image--normal")?.5*o:a.hasClass("pc--c__b-image--square")?o:a.hasClass("pc--c__b-image--really-tall")?.8*o:a.hasClass("pc--c__b-image--especially-tall")?1.5*o:.5*o:a.hasClass("pc--c__b-image--tall")?1.35*o:a.hasClass("pc--c__b-image--normal")?o/1.35:a.hasClass("pc--c__b-image--square")?o:a.hasClass("pc--c__b-image--really-tall")?2*o:a.hasClass("pc--c__b-image--especially-tall")?2.35*o:1.25*o,a.animate({"min-height":n},50);var s=a.find("img");s.width()>a.width()&&s.height()>a.height()&&(s.width()>s.height()?s.css({width:"auto",height:a.height()}):s.css({height:"auto",width:a.width()}))}),e(".pc--crop__video").length>0&&e(".pc--crop__video").each(function(t,i){var a=e(this),o=a.closest(".pc--c__video");o.hasClass("pc--c__video--full")&&a.width(o.width());var n=a.width()/1.75;a.animate({height:n},500)}),e(".pc--form").length>0){var r=e(".pc--form"),s=e(".pc--form__horizontal");s.find(".textarea").closest(".gfield").animate({width:"100%"},500),s.find(".gfield_checkbox, .gfield_radio").closest(".gfield").animate({"flex-grow":"0"},500),r.find(".ginput_container_time").closest(".clear-multi").addClass("clear-multi_tel"),r.find(".ginput_container_time").find("i").detach(),e(".pc--form__head-hide").find(".gform_heading").detach(),e(".pc--form__nowrap").find(".gfield_label, .gfield_description").detach(),e(".pc--form__hide-labels").find(".gfield_label").detach(),e(".pc--form__hide-desc").find(".gfield_description").detach(),e(".pc--form__hide-labels-desc").find(".gfield_label, .gfield_description").detach(),e(".pc--form__head-title").find(".gform_description").detach()}(e(".js-divider").length>0&&e(".pc--s__divider_repeater").find(".js-divider").each(function(){var t=e(this),i=t.attr("data-bg"),a=new Image;a.onload=function(){t.height(a.height)},a.src=i,t.css("background-image","url("+i+")")}),e(".pc--s__img--eqvival").each(function(){var t=e(this),i=t.attr("data-expanded"),a=new Image;a.onload=function(){var e=a.height/a.width*100,o=screen.width/100*e;t.css("background-image","url("+i+")"),t.animate({"min-height":o},100)},a.src=i}),e(window).width()>768)&&e(".pc--r__col-2__ratio-right, .pc--r__col-2__ratio-left").filter(".pc--r_pos-stretch").each(function(){var t=e(this),i=t.height();t.find(".pc--c__b-image").css("height",i).end().find(".pc--c__b-image img").css("height",i)});var l=e(".pc--form").find("input, textarea, select, button").not("[data-handled]");l.length>0&&l.each(function(){var t=e(this),i=t.attr("data-field-mask"),a=t.hasClass("gfield_select");if(i&&t.mask(i),a){var o=t.css("background-color");t.selectpicker().closest(".bootstrap-select").removeClass("gfield_select").find(".dropdown-toggle").css("background-color",o)}t.on("keydown",function(t){var i=e(this),a=i.attr("data-field-length");a&&i.val().length>=a&&(t.preventDefault(),t.stopPropagation())}),t.removeAttr("disabled").attr("data-handled",1)})},onFinish:function(){e(".g-recaptcha").length>0&&e.getScript("//www.google.com/recaptcha/api.js?onload=onloadCallback"),e(".pc--c").on("change","input, select, textarea",function(){e(this).closest("form").conditionalizeForm()}),e(".pc--form form").submit(function(t){t.preventDefault();var i=e(this),a=(i.find("input, textarea, select"),i.find("[data-field-input], textarea, select")),o=i.find(".gchoices_list"),n=(i.find(".gform_footer").find("input, textarea, select"),i.find(".g-recaptcha")),r=(i.find(".gform_notify_group"),i.find("[data-user-email]"),!0),s={},l={},c=i.attr("id").split("_")[1];(a.length>0&&a.each(function(){var t=e(this),i=t.attr("name"),a=t.val(),o=(t.attr("data-field-label"),t.attr("data-field-required")),n=(t.attr("data-field-mask"),t.closest(".gfield"));null!=a&&"1"==o&&(0!=a.length||n.hasClass("js-hidden")?t.attr("style","").parent().find("div").detach():(t.css("color","#f44336").after('<div style="color:#f44336">This field is required.</div>'),r=!1,console.warn("False field: "+i))),l[i]=a,e(".pc--r__scroll").slick("setOption","height",null,!0)}),o.length>0&&o.map(function(){var t,i=e(this),a=1==i.attr("data-field-required"),o=1==i.attr("data-form-other-choice"),n=(t=i.find("input:checked")).length>0;o&&n&&(1==t.attr("data-form-more")&&((t=i.find("[data-form-more-field]")).val().length<1&&a?(t.css("color","#f44336").after('<div style="color:#f44336">This field is required.</div>'),r=!1):t.attr("style","").parent().find("div").detach(),e(".pc--r__scroll").slick("setOption","height",null,!0)));var s=t.attr("data-field-label");if(a&&(n?i.children("div").detach():(i.append('<div style="color:#f44336">This field is required.</div>'),r=!1,console.warn("False checkbox: "+s)),e(".pc--r__scroll").slick("setOption","height",null,!0)),"object"!=typeof t)l[t.attr("name")]=t.val();else for(var c=t.length,d=0;d<c;d++)l[t.eq(d).attr("name")]=t.eq(d).val()}),console.log(l),n.length>0)&&(grecaptcha.getResponse().length||(r=!1,console.warn("False captcha")));s.input_values=l;var d=JSON.stringify(s);if(!r)return t.preventDefault(),console.warn("Form ain't valid"),!1;if(global_vars.is_admin&&!global_vars.gf_public&&!global_vars.gf_private)return i.hide(),i.parent().append('<h3 style="color: red;">Public or private key isn\'t exist.</h3>'),!1;var h=new Date,p=parseInt(h.getTime()/1e3)+3600,f=global_vars.gf_public,g="/gravityformsapi/forms/"+c+"/submissions",m=function(e,t){var i=CryptoJS.HmacSHA1(e,t).toString(CryptoJS.enc.Base64);return encodeURIComponent(i)}(f+":POST:"+g+":"+p,global_vars.gf_private);return submit_gf_through_pc(global_vars.siteurl+g+"?api_key="+f+"&signature="+m+"&expires="+p,d,i),!1}),e(".pc-section--btn-more").on("click",".js-more",function(){var t=e(this),i=t.parent().find(".js-more"),a=t.parent().find(".js-less"),o=t.closest(".pc-section--btn-more"),n=t.closest(".pc--s"),r=t.attr("data-load-offset"),s=t.attr("data-total-rows"),l=t.attr("data-load-init"),c=s-l,d=n.attr("id").split("pc--s_id-")[1],h=t.closest(".pc--s").find(".pc--r"),p=i.attr("data-original");if(c>0)e.post(global_vars.ajaxurl,{action:"show_more_rows",post_id:global_vars.postid,offset:r,total_rows:s,init_rows:l,lack_rows:c,nonce:global_vars.nonce,section_id:d},function(n){o.before(n.content),t.attr("data-load-init",n.rows),console.log(n.message),n.more||(i.hide(),a.show()),e(document).primaryContent("init")},"json");else{var f=1;"all"===r&&(r=999),h.each(function(t){var o=e(this),n="none"==o.css("display");n&&t>=p&&r>=f&&(o.show(),n=!1,f++,t+1!=s||n||(i.hide(),a.show()))})}}),e(".pc-section--btn-more").on("click",".js-less",function(){var t=e(this),i=t.parent().find(".js-more"),a=t.parent().find(".js-less"),o=(t.closest(".pc-section--btn-more"),t.closest(".pc--s").find(".pc--r")),n=i.attr("data-original");o.each(function(t){t>=n&&e(this).hide()}),i.show(),a.hide()})}};function i(t){var i=t.find(".marker"),a={zoom:16,center:new google.maps.LatLng(0,0),mapTypeId:google.maps.MapTypeId.ROADMAP},o=new google.maps.Map(t[0],a);return o.markers=[],i.each(function(){!function(e,t){var i=new google.maps.LatLng(e.attr("data-lat"),e.attr("data-lng")),a=new google.maps.Marker({position:i,map:t});if(t.markers.push(a),e.html()){var o=new google.maps.InfoWindow({content:e.html()});google.maps.event.addListener(a,"click",function(){o.open(t,a)})}}(e(this),o)}),function(t){var i=new google.maps.LatLngBounds;e.each(t.markers,function(e,t){var a=new google.maps.LatLng(t.position.lat(),t.position.lng());i.extend(a)}),1==t.markers.length?(t.setCenter(i.getCenter()),t.setZoom(16)):t.fitBounds(i)}(o),o}e.fn.primaryContent=function(i){return t[i]?t[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof i&&i?void e.error("Method named "+i+" isn't exist within jQuery.primaryContent"):t.init.apply(this,arguments)},e(document).primaryContent("init"),e(document).primaryContent("onFinish"),e(".go_to").click(function(){var t=e(this).attr("href");return 0!=e(t).length&&e("html, body").animate({scrollTop:e(t).offset().top},500),!1});e(function(){e(".acf-map.js-new-map").each(function(){i(e(this));e(this).removeclass("js-new-map")})})});
